(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b7c6963"],{"1c7f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-s-platform"}),e._v(" 增加管理员 ")])],1)],1),n("div",{staticClass:"container"},[n("div",{staticClass:"form-box",staticStyle:{width:"100%"}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"选择用户",prop:"value"}},[n("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.options,(function(e){return n("el-option",{key:e._id,attrs:{label:e.nickname,value:e._id}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")])],1)],1)],1)])])},o=[],i=(n("a15b"),n("365c")),a={name:"addadmin",data:function(){return{options:[],loading:!1,form:{value:[]},rules:{value:[{required:!0,message:"请选择用户",trigger:"change"}]}}},mounted:function(){},computed:{userInfo:function(){return this.$store.getters.userInfo||""}},activated:function(){},methods:{remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,this.getData(e,(function(e){t.loading=!1,t.options=e.Data}))):this.options=[]},onSubmit:function(e){var t=this;this.$refs[e].validate((function(n){var r=t.form.value.join(",");Object(i["l"])({ids:r}).then((function(n){1===n.Code?(t.$refs[e].resetFields(),t.form.value=[],t.$message.success("设置管理员成功")):t.$message.error(n.Message)}))["catch"]((function(e){t.$message.error(e||"setAdmin error")}))}))},getData:function(e,t){var n=this;Object(i["h"])({keyword:e}).then((function(e){1===e.Code?t&&t(e):(n.loading=!1,n.$message.error(e.Message))}))["catch"]((function(e){n.loading=!1,n.$message.error(e||"getUserList error")}))}},beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){console.log("destroyed")}},u=a,s=n("2877"),c=Object(s["a"])(u,r,o,!1,null,null,null);t["default"]=c.exports},"365c":function(e,t,n){"use strict";n.d(t,"k",(function(){return l})),n.d(t,"o",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return j})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return L})),n.d(t,"b",(function(){return O})),n.d(t,"l",(function(){return $}));n("caad"),n("0d03"),n("d3b7"),n("e25e"),n("2532");var r,o=n("bc3a"),i=n.n(o),a=n("4360"),u=n("5c96"),s=i.a.create({baseURL:"http://zsjustn.top",timeout:8e3});function c(e){if(!e)return 0;var t=a["a"].getters.num,n=(new Date).getTime()-e;return n=parseInt(n/1e3/60,10),console.log(n),Boolean(n>=t)}s.interceptors.request.use((function(e){console.log("config: ",e);var t=a["a"].getters.countdown;return c(t)||a["a"].commit("index/SET_COUNTDOWN"),r=u["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a["a"].getters.userInfo&&(e.headers["zsid"]=a["a"].getters.userInfo._id),e}),(function(e){return console.log(e),Promise.reject()})),s.interceptors.response.use((function(e){if(r.close(),200===e.status)return e.data;Promise.reject()}),(function(e){return console.log(e.response),r.close(),e.message.includes("timeout")?Promise.reject("请求超时, 请稍后重试"):Promise.reject(e)}));var d=s,l=function(e){return d({url:"/admin/login",method:"post",data:e})},m="http://zsjustn.top/admin/upload",f=function(e){return d({url:"/admin/addCustomer",method:"post",data:e})},g=function(e){return d({url:"/admin/getLoginLog",method:"get",params:e})},p=function(e){return d({url:"/admin/getOwnerList",method:"get",params:e})},h=function(e){return d({url:"/admin/deleteOwner",method:"post",data:e})},v=function(e){return d({url:"/api/deleteUser",method:"post",data:e})},b=function(e){return d({url:"/api/upDateUser",method:"post",data:e})},j=function(e){return d({url:"/admin/updateOwner",method:"post",data:e})},w=function(e){return d({url:"/admin/getOperationLog",method:"get",params:e})},y=function(e){return d({url:"/api/getUserList",method:"get",params:e})},k=function(e){return d({url:"/admin/getUserListByAdmin",method:"get",params:e})},L=function(e){return d({url:"/admin/getWaitAuditList",method:"get",params:e})},O=function(e){return d({url:"/admin/auditUserByAdmin",method:"post",data:e})},$=function(e){return d({url:"/api/setAdmin",method:"post",data:e})}},a15b:function(e,t,n){"use strict";var r=n("23e7"),o=n("44ad"),i=n("fc6a"),a=n("a640"),u=[].join,s=o!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:s||!c},{join:function(e){return u.call(i(this),void 0===e?",":e)}})}}]);